<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Super Stats</title>
	<link rel="icon" type="image/png" href="./favicon.png"/>
	<link rel="stylesheet" href="./lib/pa.css"/>
	<link rel="stylesheet" href="./global.css"/>
	<link rel="stylesheet" href="./tournaments.css"/>
	<script src="./lib/jquery-3.3.1.min.js"></script>
	<script src="./lib/lodash.min.js"></script>
	<script src="./lib/knockout-3.5.0beta.js"></script>
	<script src="./lib/knockout.mapping.js"></script>
	<script src="./lib/moment.min.js"></script>
	<script src="./remote.js"></script>
	<script src="./tournaments.js"></script>
</head>
<body>
<div class="header" data-bind="remote:'./header.html'"></div>
<div class="main">
	<!-- ko if:!processedData().length -->
	<div class="no-tournaments"><h1>No Tournaments Yet :(</h1></div>
	<!-- /ko -->
	<!-- ko foreach: processedData -->
	<div class="tournament" data-bind="attr:{name:identifier}">
		<div class="tournament-top-info">
			<div class="tournament-top-row">
				<b data-bind="text:name" style="font-size:30px;margin-right:10px;"></b>
				<img src="./assets/img/live.png" style="width:10px;height:10px;" data-bind="visible:live"
					 title="Live!"/>
			</div>
			<div class="tournament-top-row-b">
				<span data-bind="text:timeString"></span>
				<a data-bind="visible:link,attr:{href:link}">More Info</a>
				<a data-bind="visible:cast,attr:{href:cast}">Cast</a>
				<a data-bind="visible:$root.showTournamentMakeButton,attr:{href:addLink}">Modify Tournament</a>
				<a data-bind="visible:$root.canDeleteTournament,event:{dblclick:deleteTournament}"
				   href="javascript:void(0)">Delete Tournament</a>
			</div>
		</div>
		<div class="match-list">
			<table style="table-layout:fixed;width:100%;" cellspacing="0" cellpadding="0">
				<thead>
				<tr class="match-list-head">
					<td style="width:30%">Players</td>
					<td></td>
					<td>System</td>
					<td>Winner</td>
					<td>Start Time</td>
					<td>Duration</td>
				</tr>
				</thead>
				<tbody data-bind="foreach:matches">
				<tr class="match-in-list">
					<td>
						<a data-bind="attr:{href:link},text:titleString"></a>
					</td>
					<td class="icon-bank">
						<a data-bind="attr:{href:link}">
							<img class="game-icon-image" data-bind="visible:!info.isTitans()"
								 src="./assets/img/icon-bank/classic.png" title="Classic"/>
							<img class="game-icon-image" data-bind="visible:info.isTitans"
								 src="./assets/img/icon-bank/titans.png" title="Titans"/>
							<img class="game-icon-image" data-bind="visible:casts().length"
								 src="./assets/img/icon-bank/microphone.svg" title="This game has been casted"/>
							<img class="game-icon-image" data-bind="visible:info.isRanked"
								 src="./assets/img/icon-bank/ranked.png" title="Ranked 1v1 Ladder"/>
							<img class="game-icon-image" data-bind="visible:info.equilibrium"
								 src="./assets/img/icon-bank/equilibrium.svg" title="Equilibrium"/>
							<img class="game-icon-image" data-bind="visible:info.legion"
								 src="./assets/img/icon-bank/legion.png" title="Legion"/>
							<img class="game-icon-image" data-bind="visible:info.isCustomServer"
								 src="./assets/img/icon-bank/customServer.png" title="Community Server"/>
						</a>
					</td>
					<td>
						<a data-bind="attr:{href:link},text:systemName"></a>
					</td>
					<td>
						<a data-bind="attr:{href:link},text:winnerString"></a>
					</td>
					<td>
						<a data-bind="attr:{href:link},text:startTimeString"></a>
					</td>
					<td>
						<a data-bind="attr:{href:link},text:durationString"></a>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
	</div>
	<!-- /ko -->
	<a href="./tournament_make.html" data-bind="visible:showTournamentMakeButton">Make a new tournament</a>
</div>
<div class="footer" data-bind="remote:'./footer.html'"></div>
</body>
</html>